<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
	<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<title>ì‚¬ì£¼ - result</title>
	<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	
	 <style>
  :root{
    --accent:#2f6f6d;        /* í‹¸(ì„¸ì´ì§€) í¬ì¸íŠ¸ ì»¬ëŸ¬ */
    --accent-2:#9ccdc6;      /* ë°ì€ í‹¸ */
    --ink:#1f2937;           /* ë³¸ë¬¸ ê¸€ìƒ‰ */
    --muted:#6b7280;
    --line:rgba(15,23,42,.08);
    --radius:16px;
  }

  /* í˜ì´ì§€ ì»¨í…Œì´ë„ˆ */
  .fate-page{max-width:960px;margin:24px auto;padding:0 20px;}
  .title{font-size:1.5rem;font-weight:800;margin:8px 0 18px;color:var(--ink);}

  /* ì¹´ë“œ ê³µí†µ */
  .card{
    background:#fff;border:1px solid var(--line);border-radius:var(--radius);
    box-shadow:0 10px 30px rgba(15,23,42,.06);padding:22px;margin-bottom:16px;
  }

  /* ìš”ì•½ ì¹´ë“œ (ì´ë¦„/ì´ì ) */
  .summary{display:flex;gap:18px;flex-wrap:wrap;align-items:center;}
  .pill{
    display:inline-flex;align-items:center;gap:8px;padding:8px 12px;
    border-radius:999px;background:#f3faf8;border:1px solid #daeee9;color:#0f3d3a;
    font-weight:700;
  }
  .kv{
  color:var(--muted);
  font-size: 20px;
  }
  .kv b{color:var(--ink)}

  /* ì˜¤í–‰ ë§‰ëŒ€ ì˜ì—­ */
  .bars{margin-top:6px;}
  .bars .row{display:grid;grid-template-columns:140px 1fr 64px;align-items:center;gap:12px;margin:12px 0;}
  .label{font-weight:700;color:#374151;display:flex;align-items:center;gap:8px;}
  .value{font-weight:800;color:#111827;text-align:right;}

  .meter{
    position:relative;height:12px;border-radius:999px;overflow:hidden;
    background:linear-gradient(0deg,#f1f5f9,#eef2f1);
    border:1px solid #e5e7eb;
  }
  /* ì»¨í…Œì´ë„ˆì— --max(ì´ì ), ê° í–‰ì— --val(ê°’) ì „ë‹¬ â†’ í¼ì„¼íŠ¸ ìë™ê³„ì‚° */
  .fill{
    position:absolute;left:0;top:0;height:100%;
    width:clamp(0%, calc((var(--val, 0) / var(--max, 100)) * 100%), 100%);
    background:linear-gradient(90deg,var(--accent),var(--accent-2));
  }

  /* ìš´ì„¸ ì„ íƒ/ê²°ê³¼ */
  .fortune{display:grid;grid-template-columns:260px 1fr;gap:18px;}
  @media (max-width:720px){ .fortune{grid-template-columns:1fr} }

  .select-box select{
    width:100%;height:44px;padding:10px 12px;border-radius:12px;border:1px solid #d1d5db;background:#fff;
    outline:none;transition:box-shadow .15s ease,border-color .15s ease;
  }
  .select-box select:focus{border-color:#b9ded8;box-shadow:0 0 0 .2rem rgba(47,111,109,.15)}

  .detail{
    min-height:96px;
    border:1px solid var(--line);
    border-radius:12px;
    padding:14px 16px;
    font-size: 20px;
    background:#ffffff;
  }
  .detail .hint{color:var(--muted);margin-bottom:6px;font-size:.95rem}
  .detail .text{white-space:pre-wrap;line-height:1.6}

  /* í•˜ë‹¨ ë²„íŠ¼ */
  .actions{display:flex;justify-content:center;margin-top:12px;gap:15px;}
  .btn{
    display:inline-flex;align-items:center;justify-content:center;height:42px;padding:0 18px;
    border-radius:12px;border:1px solid transparent;cursor:pointer;font-weight:700;
    transition:transform .06s ease,filter .1s ease,box-shadow .15s ease;
    background:var(--accent);color:#fff;box-shadow:0 6px 16px rgba(47,111,109,.18);
  }
  .btn:hover{filter:brightness(1.05)}
  .btn:active{transform:translateY(1px)}
  .btn a{color:inherit;text-decoration:none}
  </style>
</head>
<body>
	<!-- í—¤ë” -->
	<div th:replace="fragments/header :: headerFragment"></div>
	<div class="fate-page">

    <div class="title">ì‚¬ì£¼ result</div>

    <!-- ìš”ì•½ ì¹´ë“œ -->
    <div class="card summary">
      <div class="pill">ğŸ‘¤ <span th:text="${resultVO.userName}">ì´ë¦„</span></div>
      <div class="kv">ì´í‰: <b th:text="${resultVO.total}">0</b></div>
    </div>

    <!-- ì˜¤í–‰ ë¶„í¬ ì¹´ë“œ -->
    <div class="card bars" th:style="|--max:${resultVO.total}|">
      <div class="row" th:style="|--val:${resultVO.tree}|">
        <div class="label">ğŸŒ³ ëª©(æœ¨)</div>
        <div class="meter"><div class="fill"></div></div>
        <div class="value" th:text="${resultVO.tree}">0</div>
      </div>
      <div class="row" th:style="|--val:${resultVO.fire}|">
        <div class="label">ğŸ”¥ í™”(ç«)</div>
        <div class="meter"><div class="fill"></div></div>
        <div class="value" th:text="${resultVO.fire}">0</div>
      </div>
      <div class="row" th:style="|--val:${resultVO.soil}|">
        <div class="label">â›°ï¸ í† (åœŸ)</div>
        <div class="meter"><div class="fill"></div></div>
        <div class="value" th:text="${resultVO.soil}">0</div>
      </div>
      <div class="row" th:style="|--val:${resultVO.steel}|">
        <div class="label">âš™ï¸ ê¸ˆ(é‡‘)</div>
        <div class="meter"><div class="fill"></div></div>
        <div class="value" th:text="${resultVO.steel}">0</div>
      </div>
      <div class="row" th:style="|--val:${resultVO.water}|">
        <div class="label">ğŸ’§ ìˆ˜(æ°´)</div>
        <div class="meter"><div class="fill"></div></div>
        <div class="value" th:text="${resultVO.water}">0</div>
      </div>
    </div>

    <!-- ìš´ì„¸ ì„ íƒ/ê²°ê³¼ ì¹´ë“œ -->
    <div class="card fortune">
      <div class="select-box">
        <label for="fateOption" style="display:block;margin-bottom:8px;font-weight:700;color:#374151;">ìš´ì„¸ í•­ëª©</label>
        <select name="fateOption" id="fateOption" onchange="handleOnChange(this)">
          <option value="love">ì—°ì• ìš´</option>
          <option value="health">ê±´ê°•ìš´</option>
          <option value="money">ì¬ë¬¼ìš´</option>
          <option value="job">ì§ì—…ìš´</option>
        </select>
      </div>
      <div class="detail">
        <div class="hint">ìš´ì„¸ ê²°ê³¼</div>
        <div id="detail" class="text" th:text="${resultVO.love}">ë‚´ìš©</div>
      </div>
    </div>

    <!-- í•˜ë‹¨ ë²„íŠ¼ -->
    <div class="actions">
      <button class="btn" onclick="location.href='home'">í™ˆìœ¼ë¡œ</button>
      <button class="btn" onclick="location.href='travel.do'">ì—¬í–‰ì§€ ì¶”ì²œìœ¼ë¡œ</button>
    </div>
  </div>
	<script th:inline="javascript">
	function handleOnChange(e) {
	    const value = e.value;
	    let text = "";
	
	    if (value === "love") {
	        text = /*[[${resultVO.love}]]*/"";
	    } else if (value === "health") {
	        text = /*[[${resultVO.health}]]*/"";
	    } else if (value === "money") {
	        text = /*[[${resultVO.money}]]*/"";
	    } else if (value === "job") {
	        text = /*[[${resultVO.job}]]*/"";
	    }
	
	    document.getElementById('detail').innerText = text;
	}
	
	window.onload = function() {
	    const select = document.querySelector("select[name='fateOption']");
	    handleOnChange(select);
	}
	</script>



</body>

</html>

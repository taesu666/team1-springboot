
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  	<!-- 공통 스타일 -->
	<th:block th:replace="~{fragments/styles :: commonStyles}"></th:block>
  <title>회원정보 수정</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    :root {
      --accent: #2f6f6d;
      --accent-2: #9ccdc6;
      --ink: #1f2937;
      --muted: #6b7280;
      --line: rgba(15, 23, 42, 0.08);
      --radius: 16px;
      --bg: #f9fafb;
    }

    body {
      background-color: var(--bg);
      font-family: 'Segoe UI', 'Noto Sans KR', system-ui, sans-serif;
      color: var(--ink);
    }

    .form-wrapper {
      max-width: 460px;
      margin: 60px auto;
      padding: 30px;
      background: white;
      border-radius: var(--radius);
      box-shadow: 0 8px 30px rgba(15, 23, 42, 0.06);
      border: 1px solid var(--line);
    }

    .form-title {
      font-size: 1.6rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 24px;
    }

    .form-label {
      font-weight: 600;
      color: var(--ink);
    }

    .form-control {
      border-radius: 12px;
      padding: 10px 14px;
    }

    .btn-primary {
      background-color: var(--accent);
      border-color: var(--accent);
      font-weight: 700;
      border-radius: 12px;
    }

    .btn-primary:hover {
      background-color: #27605e;
      border-color: #27605e;
    }

    .alert {
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <div class="d-flex flex-column align-items-center">    
    <!-- 제목--> 
    <div class="title-box">회원정보 수정</div>
    <div class="container">
      <div class="form-wrapper">

        <!-- 로그인된 사용자 있을 경우 -->
        <div th:if="${loginUser != null}">
          <form th:action="@{/updateProfile.do}" method="post">
            <!-- hidden fields -->
            <input type="hidden" name="loginId" th:value="${loginUser.loginId}" />
            <input type="hidden" name="userId" th:value="${loginUser.userId}" />
            <input type="hidden" name="userPassword" th:value="${loginUser.userPassword}" />

            <!-- 닉네임 입력 -->
            <div class="mb-3">
              <label for="userNickName" class="form-label">닉네임</label>
              <input type="text" id="userNickName" name="userNickName"
                    th:value="${loginUser.userNickName}"
                    class="form-control" required />
            </div>

            <!-- 버튼 -->
            <div class="d-grid">
              <button type="submit" class="button bg-primary text-white">정보 수정</button>
            </div> 
          </form>
        </div>

        <!-- 로그인 실패 시 -->
        <div th:if="${loginUser == null}" class="alert alert-danger mt-3">
          사용자 정보를 불러오는 데 실패했습니다.
        </div>

        <!-- 메시지 출력 -->
        <div th:if="${message != null}" class="alert alert-info mt-3" th:text="${message}"></div>
      </div>
    </div>
  </div>
</body>
</html>
